---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "qernal_function Resource - qernal"
subcategory: ""
description: |-
  
---

# qernal_function (Resource)



## Example Usage

```terraform
# Data source for the qernal provider
data "qernal_provider" "example" {
  name = "GCP"
}

resource "qernal_function" "example" {
  name        = "my-function"
  project_id  = "a8d86e21-df21-407c-854b-f0aecec00042"
  description = "An example function"
  type        = "http"
  version     = "1.0.0"
  image       = "docker.io/myrepo/myimage:latest"
  port        = 8080
  compliance  = ["soc2"]

  size = {
    cpu    = 1
    memory = 512
  }

  scaling = {
    type = "cpu"
    low  = 20
    high = 80
  }

  deployment {
    location = {
      continent   = data.qernal_provider.example.continents[0]
      country     = data.qernal_provider.example.countries[1]
      city        = data.qernal_provider.example.cities[0]
      provider_id = data.qernal_provider.example.id
    }
    replicas = {
      min = 1
      max = 5
      affinity = {
        cloud   = true
        cluster = false
      }
    }
  }

  route {
    path    = "/api"
    methods = ["GET", "POST"]
    weight  = 80
  }

  # secrets = [{
  #   name      = "API_KEY"
  #   reference = "projects:a8d86e21-df21-407c-854b-f0aecec0004/GHCR"
  # }]
}


# Output the function ID
output "function_id" {
  value = qernal_function.example.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `description` (String) A brief description of the function.
- `image` (String) Container image for the function.
- `name` (String) Name of the function.
- `port` (Number) Port on which the function will listen for incoming requests.
- `project_id` (String) ID of the project where the function will be deployed.
- `scaling` (Attributes) Scaling configuration for the function. (see [below for nested schema](#nestedatt--scaling))
- `size` (Attributes) Size configuration for the function, specifying CPU and memory resources. (see [below for nested schema](#nestedatt--size))
- `type` (String) Type of the function (e.g., HTTP, Event-driven).
- `version` (String) Version of the function.

### Optional

- `compliance` (List of String) Compliance standards the function adheres to, one of soc or ipv6
- `deployment` (Block List) List of deployments for the function, specifying locations and replicas. (see [below for nested schema](#nestedblock--deployment))
- `route` (Block List) List of routes that define the function's endpoints. (see [below for nested schema](#nestedblock--route))
- `secret` (Block List) secrets to be use dby the function (see [below for nested schema](#nestedblock--secret))

### Read-Only

- `id` (String) Unique identifier for the function, assigned automatically upon creation.
- `revision` (String) Function revision

<a id="nestedatt--scaling"></a>
### Nested Schema for `scaling`

Required:

- `high` (Number) Upper bound for scaling.
- `low` (Number) Lower bound for scaling.
- `type` (String) Type of scaling (can be either CPU or Memory).


<a id="nestedatt--size"></a>
### Nested Schema for `size`

Required:

- `cpu` (Number) Amount of CPU allocated to the function.
- `memory` (Number) Amount of memory allocated to the function.


<a id="nestedblock--deployment"></a>
### Nested Schema for `deployment`

Required:

- `location` (Attributes) Deployment location details. (see [below for nested schema](#nestedatt--deployment--location))
- `replicas` (Attributes) Replica configuration for the deployment. (see [below for nested schema](#nestedatt--deployment--replicas))

<a id="nestedatt--deployment--location"></a>
### Nested Schema for `deployment.location`

Optional:

- `city` (String) City where the deployment is located.
- `continent` (String) Continent where the deployment is located.
- `country` (String) Country where the deployment is located.
- `provider_id` (String) ID of the cloud provider.


<a id="nestedatt--deployment--replicas"></a>
### Nested Schema for `deployment.replicas`

Required:

- `affinity` (Attributes) Affinity settings for replicas. (see [below for nested schema](#nestedatt--deployment--replicas--affinity))
- `max` (Number) Maximum number of replicas.
- `min` (Number) Minimum number of replicas.

<a id="nestedatt--deployment--replicas--affinity"></a>
### Nested Schema for `deployment.replicas.affinity`

Required:

- `cloud` (Boolean) Indicates if replicas should be spread across multiple clouds.
- `cluster` (Boolean) Indicates if replicas should be clustered.




<a id="nestedblock--route"></a>
### Nested Schema for `route`

Required:

- `methods` (List of String) HTTP methods supported by the route (e.g., GET, POST).
- `path` (String) Path of the route.
- `weight` (Number) Weight of the route for load balancing.


<a id="nestedblock--secret"></a>
### Nested Schema for `secret`

Required:

- `name` (String) Name of the secret
- `reference` (String) Reference to the secrets value
